# ADR-002: EX_Silenceの無音閾値を初期値5秒にする

**日付**: 2025-01-07
**状態**: Proposed
**決定者**: VLF開発チーム

## 文脈（Context）

音声販売AIシステムでは、顧客が無音（発話しない）状態が続いた場合、プロンプトを出して反応を促す必要がある。この無音を検知する閾値（何秒間無音が続いたら検知するか）を決定する必要がある。

**解決すべき課題**:
- 閾値が短すぎると、顧客が考えている最中に頻繁にプロンプトが出て、UXが悪化する
- 閾値が長すぎると、通話が途切れたことに気づかず、無駄な通話時間が発生する
- 電話環境（固定電話、携帯電話、VoIP）によって適切な閾値が異なる可能性

**現状の問題点**:
- MVP開発開始時点で、適切な閾値の実測データがない
- ユーザーテストを実施するまで最適値が不明

**ビジネス要件**:
- 顧客が違和感なく対話できること
- 通話時間を最小化してコストを削減すること

## 検討した選択肢（Options Considered）

### Option 1: 3秒（短め）
- **概要**: 無音3秒で検知
- **メリット**:
  - 通話途絶をすぐに検知できる
  - 無駄な通話時間が少ない
  - レスポンスが早い印象を与える
- **デメリット**:
  - 顧客が考えている最中にプロンプトが出やすい
  - 焦らされている印象を与える可能性
  - 高齢者や慎重な顧客には短すぎる
- **参考データ**: 一般的な対話システムでは3-4秒が多い

### Option 2: 5秒（中間）
- **概要**: 無音5秒で検知
- **メリット**:
  - 顧客が考える時間として妥当（電話応対の一般的な間）
  - 3秒と8秒の中間値として、調整の余地がある
  - 一般的な電話応対マニュアルで推奨される「沈黙の許容時間」に近い
- **デメリット**:
  - 最適値かは実測データ待ち
  - 通話途絶の検知が若干遅い
- **参考データ**: 電話応対マニュアルでは「5秒以上の沈黙は避ける」が一般的

### Option 3: 8秒（長め）
- **概要**: 無音8秒で検知
- **メリット**:
  - 顧客がゆっくり考える時間を十分に確保
  - 焦らされている印象を与えにくい
  - 高齢者にも優しい
- **デメリット**:
  - 通話途絶の検知が遅い
  - 無駄な通話時間が長い（コスト増）
  - 8秒は「長すぎる沈黙」として顧客が不安になる可能性
- **参考データ**: 8秒以上の沈黙は「会話が途切れた」と感じられることが多い

## 決定（Decision）

**選択した選択肢**: Option 2（5秒、MVP default）

**理由**:
1. **電話応対の一般的な基準**: 電話応対マニュアルで「5秒以上の沈黙は避ける」が一般的
2. **調整の余地**: 3秒と8秒の中間値として、ユーザーテスト結果に応じて上下に調整しやすい
3. **MVP開始点として妥当**: 実測データがない状態で、業界標準に近い値を採用

**トレードオフの判断基準**:
- MVP期間中にユーザーテストを実施し、実測データを取得
- OQ-001として未決事項に記録し、MVP前に最終決定
- **この値は仮置き（MVP default）**であり、確定値ではない

**重要**: この決定は**Proposed**（提案中）であり、ユーザーテスト後に**Accepted**または**Superseded**に変更される予定。

## 結果（Consequences）

### ポジティブ
- MVP開発を開始できる（閾値の初期値が決まった）
- 電話応対の一般的な基準に準拠しており、極端な値ではない
- ユーザーテストでの調整余地がある（3秒、5秒、8秒の3パターンでテスト可能）

### ネガティブ
- 最適値かは不明（実測データ待ち）
- 5秒が長すぎる/短すぎる場合、再調整が必要
  - 軽減策: OQ-001で継続的に検討

### ニュートラル
- 変更が必要なファイル:
  - ConversationSpec.md §3 EX_Silence（無音閾値を5秒（MVP default）と明記）
  - OpenQuestions.md OQ-001（この決定の根拠を参照）
- 影響範囲:
  - 音声認識エンジンの設定
  - プロンプト発話タイミング

## 関連リンク

- **仕様**: ConversationSpec.md §3 EX_Silence
- **OpenQuestions**: OQ-001（無音閾値5秒は適切か？）
- **関連ADR**: なし
- **外部参考**:
  - 「電話応対マニュアル」（一般的な基準として5秒以上の沈黙は避ける）
  - 対話システムのUXガイドライン（3-5秒が一般的）

## 検証方法

### MVP期間中の検証計画

1. **定量評価**（ユーザーテスト）:
   - [ ] 閾値3秒、5秒、8秒の3パターンでABテスト実施
   - [ ] 各パターンでの顧客満足度を測定
   - [ ] 「プロンプトが早すぎる/遅すぎる」という意見の割合を測定

2. **定性評価**（インタビュー）:
   - [ ] 顧客にヒアリング「プロンプトのタイミングは適切でしたか？」
   - [ ] 高齢者層と若年層で差があるか確認

3. **運用データ分析**:
   - [ ] EX_Silenceの発生頻度を測定
   - [ ] リトライ後の復帰率を測定（プロンプトで対話が再開したか）

**合格基準**:
- 顧客満足度（NPS）が30以上
- 「プロンプトが早すぎる」という意見が20%以下
- 「プロンプトが遅すぎる」という意見が20%以下

**失敗の兆候**:
- 「プロンプトが早すぎる」という意見が50%以上
- 「プロンプトが遅すぎる」という意見が50%以上
- EX_Silenceの発生頻度が1通話あたり3回以上

その場合は、以下のアクションを取る:
- 早すぎる場合 → 7秒または8秒に変更（ADR-002をSupersededとし、新ADRを作成）
- 遅すぎる場合 → 3秒に変更（ADR-002をSupersededとし、新ADRを作成）
- 年齢層で差がある場合 → 顧客属性による動的変更を検討（Phase 2）

## 次のアクション

- [ ] MVP開発開始時に5秒で実装
- [ ] ユーザーテスト計画を策定（テストパターン、評価指標、スケジュール）
- [ ] ユーザーテスト実施（MVP期間中）
- [ ] テスト結果に基づき、OQ-001をResolvedに変更、この ADR を Accepted または Superseded に変更
