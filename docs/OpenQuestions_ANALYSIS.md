# OpenQuestions 優先順位分析

**分析日**: 2025-01-07
**目的**: 12件のOpenQuestionsを分類し、解決の優先順位を決定

---

## カテゴリ別分類

### A. 即座に決定可能（実装レベルの判断）

実装チーム内で決定でき、ADRとして記録すれば即座に解決可能な項目。

| ID | 質問 | 優先度 | 推奨アクション |
|---|---|---|---|
| **OQ-006** | saveOrderのリトライ回数は1回で適切か？ | **HIGH** | ADR-003で決定 → Resolved |
| **OQ-007** | EX_Correctionのキーワードリストは十分か？ | **HIGH** | ADR-004で決定 → Resolved |

**理由**:
- OQ-006: DB保存の信頼性に直接影響、MVP範囲では1回で十分と判断可能
- OQ-007: MVP範囲で最小限のキーワードリストを決定可能

---

### B. ユーザーテスト後に決定（実測データが必要）

実際のユーザーテストで最適値を測定する必要がある項目。MVP開始時は初期値を設定し、テスト後に確定。

| ID | 質問 | 優先度 | 推奨アクション |
|---|---|---|---|
| **OQ-001** | EX_Silenceの無音閾値は5秒で適切か？ | MEDIUM | ADR-002で既に記録済み、テスト後に確定 |
| **OQ-002** | EX_Silenceのリトライ回数は3回で適切か？ | MEDIUM | テスト後に決定 |
| **OQ-004** | STT信頼度閾値は0.6で適切か？ | MEDIUM | テスト後に決定 |
| **OQ-005** | EX_NoHearのリトライ回数は2回で適切か？ | MEDIUM | テスト後に決定 |

**理由**:
- これらはUX品質に影響するパラメータで、実測データが必要
- MVP開始時は「MVP default」として初期値を設定済み
- ユーザーテスト計画に含める

---

### C. 外部API仕様に依存（別チーム調整が必要）

ツールAPI提供チームとの調整が必要な項目。

| ID | 質問 | 優先度 | 推奨アクション |
|---|---|---|---|
| **OQ-003** | ツールタイムアウト値は適切か？ | HIGH | API提供チームにSLA確認 → ADR化 |

**理由**:
- getStock/getPrice/getDeliveryDateのSLAを確認する必要がある
- 確認後、ADRとして記録

---

### D. ビジネス判断が必要（ステークホルダー確認）

プロダクトオーナーやビジネス側との調整が必要な項目。

| ID | 質問 | 優先度 | 推奨アクション |
|---|---|---|---|
| **OQ-008** | ST_DeliveryCheckでユーザー拒否時、ST_Closingで良いか？ | MEDIUM | PO確認 → ADR化 |
| **OQ-009** | 在庫なし時、代替品提案は自動か手動か？ | MEDIUM | PO確認 → ADR化 |
| **OQ-010** | MVP対象の商品カテゴリは何か？ | **HIGH** | PO決定 → PRD更新 |
| **OQ-011** | 顧客認証方法は電話番号のみで良いか？ | HIGH | セキュリティチーム確認 → ADR化 |
| **OQ-012** | エスカレーション基準はどこか？ | MEDIUM | PO確認 → ConversationSpec更新 |

**理由**:
- これらはビジネス要件やセキュリティ要件に関わる
- ステークホルダーの承認が必要

---

## 推奨解決順序

### フェーズ1: 即座に実施（今日中）

1. **OQ-006**: saveOrderのリトライ回数を決定 → ADR-003作成
2. **OQ-007**: EX_Correctionのキーワードリストを決定 → ADR-004作成

**期待される成果**: 2件のOQがResolvedになり、実装の不確実性が減る

---

### フェーズ2: 外部調整（3日以内）

3. **OQ-003**: API提供チームにツールSLA確認 → ADR-005作成
4. **OQ-010**: プロダクトオーナーに商品カテゴリ確認 → PRD更新

**期待される成果**: ツール実装とテストデータ準備が可能になる

---

### フェーズ3: ビジネス判断（1週間以内）

5. **OQ-011**: セキュリティチームに顧客認証要件確認 → ADR-006作成
6. **OQ-008**: プロダクトオーナーに配送日拒否時の動作確認 → ADR-007作成
7. **OQ-009**: プロダクトオーナーに代替品提案方法確認 → ADR-008作成
8. **OQ-012**: プロダクトオーナーにエスカレーション基準確認 → ConversationSpec更新

**期待される成果**: ビジネス要件が確定し、詳細設計が可能になる

---

### フェーズ4: ユーザーテスト後（MVP期間中）

9. **OQ-001**: 無音閾値の最適値決定 → ADR-002をAcceptedに更新
10. **OQ-002**: リトライ回数の最適値決定 → ADR作成
11. **OQ-004**: STT信頼度閾値の最適値決定 → ADR作成
12. **OQ-005**: リトライ回数の最適値決定 → ADR作成

**期待される成果**: すべてのパラメータが実測データに基づいて確定

---

## 次のアクション（今すぐ実施）

### 1. OQ-006の解決

**質問**: saveOrderのリトライ回数は1回で適切か？

**推奨決定**:
- MVP範囲では**1回**を採用
- 理由: シンプルさ優先、DB保存失敗は稀なケース
- トランザクション特性により、リトライ可能な失敗と不可能な失敗を区別

**アクション**: ADR-003を作成し、OQ-006をResolvedに変更

---

### 2. OQ-007の解決

**質問**: EX_Correctionのキーワードリストは十分か？

**推奨決定**:
- MVP範囲では**5キーワード**を採用
  - 「やっぱり」「違う」「他の」（既存）
  - 「間違えた」「キャンセル」（追加）
- 理由: MVP範囲で頻出パターンをカバー、Phase 2で拡張

**アクション**: ADR-004を作成し、OQ-007をResolvedに変更、ConversationSpec更新

---

## サマリー

- **合計**: 12件
- **即座に解決可能**: 2件（OQ-006, OQ-007）
- **外部調整が必要**: 2件（OQ-003, OQ-010）
- **ビジネス判断が必要**: 4件（OQ-008, OQ-009, OQ-011, OQ-012）
- **ユーザーテスト後**: 4件（OQ-001, OQ-002, OQ-004, OQ-005）

**今日の目標**: フェーズ1完了（2件解決）
